<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <meta name="description" content="Mood tracker app by Iamfrank">

  <!-- Icons and theme colors -->
  <meta name="theme-color" content="#021705">
  <link rel="icon" href="img/favicon.svg">
  <link rel="mask-icon" href="img/mask-icon.svg" color="#000000">
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
  <link rel="manifest" href="manifest.json">

  <link rel="stylesheet" href="css/main.css">

  <script src="js/modules/initsw.js"></script>

</head>

<body>

  <header>
    <h1>
      <img src="img/favicon.svg" alt="" style="width: 2rem; height: 2rem;"> 
      Tracker
    </h1>
  </header>

  <main>
    <p>
      It looks like you haven't created any KPIs yet.<br> 
      Start by creating some.
    </p>
    <p>
      <a class="btn" href="/html/kpiadd.html" title="Add KPI">
        <svg class="icon-light" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M450.001-450.001h-200q-12.75 0-21.375-8.628-8.625-8.629-8.625-21.384 0-12.756 8.625-21.371 8.625-8.615 21.375-8.615h200v-200q0-12.75 8.628-21.375 8.629-8.625 21.384-8.625 12.756 0 21.371 8.625 8.615 8.625 8.615 21.375v200h200q12.75 0 21.375 8.628 8.625 8.629 8.625 21.384 0 12.756-8.625 21.371-8.625 8.615-21.375 8.615h-200v200q0 12.75-8.628 21.375-8.629 8.625-21.384 8.625-12.756 0-21.371-8.625-8.615-8.625-8.615-21.375v-200Z"/></svg>
      </a>
    </p>
  </main>

  <script type="module">
    import { getData } from './js/modules/db.js'

    const kpid = localStorage.getItem('kpid')
    if (kpid) {
      location.href = '/html/observations.html'
    } else {
      const kpis = await getData('kpis')
      if (kpis[0]) {
        location.href = '/html/observations.html'
      }
    }
  </script>

</body>

</html>
